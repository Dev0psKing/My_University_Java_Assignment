public static SSLServerSocket createSSLServerSocket(int port) throws Exception {
    SSLServerSocketFactory factory = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();
    SSLServerSocket serverSocket = (SSLServerSocket) factory.createServerSocket(port);
    serverSocket.setNeedClientAuth(true);
    return serverSocket;
}